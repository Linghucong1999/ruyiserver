"use strict";(self["webpackChunkruyiweb"]=self["webpackChunkruyiweb"]||[]).push([[856],{9856:function(e,t,i){i.r(t),i.d(t,{default:function(){return v}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"clearfix my-page-list"},[t("div",{staticClass:"page-search-wrapper bg-white"},[t("el-tabs",{on:{"tab-click":e.handlePageModeClick},model:{value:e.searchParams.pageMode,callback:function(t){e.$set(e.searchParams,"pageMode",t)},expression:"searchParams.pageMode"}},e._l(e.pageModeList,(function(e,i){return t("el-tab-pane",{key:i,attrs:{name:e.value,label:e.label,disabled:e.disabled}})})),1)],1),t("el-scrollbar",{staticClass:"page-list-wrapper scroll-wrapper"},[t("div",{staticClass:"page-content"},[t("div",{staticClass:"my-page-nav-list"},[t("div",{staticClass:"my-page-nav-item",class:{active:"my"===e.searchParams.type},on:{click:function(t){return e.doSearch("my")}}},[e._v(" 我的作品("+e._s(e.myCount)+") ")]),t("div",{staticClass:"my-page-nav-item",class:{active:"cooperation"===e.searchParams.type},on:{click:function(t){return e.doSearch("cooperation")}}},[e._v(" 协作作品("+e._s(e.shareCount)+") ")])]),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-item-wrapper"},[t("div",{staticClass:"page-item"},[t("Thumbnail",{attrs:{"page-tye":e.searchParams.pageMode}})],1),t("div",{staticClass:"page-item-list"},e._l(e.pageList,(function(i,a){return t("div",{key:a,staticClass:"page-item"},[t("Thumbnail",{attrs:{"page-data":i,"btn-list":e.operationBtnType(i.isPublish)},on:{showPreview:e.preview}})],1)})),0)])])])],1)},n=[],o=function(){var e=this,t=e._self._c;return t("div",[e.pageData?t("div",[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-thumbnail-panel"},[!e.pageData.isPublish&&e.showPublishState?t("span",{staticClass:"unpublish"},[e._v("未发布")]):e._e(),t("div",{staticClass:"thumbnail-panel-cover"},[t("div",{staticClass:"header-mask"},[t("div",{staticClass:"details-btn",on:{click:function(t){return e.preview(e.pageData._id)}}},[e._v("预览")])]),t("div",{staticClass:"image-wrapper"},[t("img",{attrs:{src:e.pageData.coverImage||e.defaultImageCover}})])])]),t("div",{staticClass:"page-item-title border-T ellipsis"},[t("el-tag",{attrs:{type:!e.pageData.isPublish&&e.showPublishState?"warning":"success",effect:"plain"}},[e._v(e._s(e.pageData.title||"未命名作品"))])],1),e.btnList.length?t("div",{staticClass:"thumbnail-panel-btn"},[e.btnList.includes("edit")?t("el-button",{staticClass:"btn-wrapper",attrs:{type:"text",size:"mini"},on:{click:e.edit}},[e._v("编辑")]):e._e(),e.btnList.includes("useTemplate")?t("el-button",{staticClass:"btn-wrapper",attrs:{type:"text",size:"mini"}},[e._v("使用模板")]):e._e(),e.btnList.includes("copyTemplate")?t("el-button",{staticClass:"btn-wrapper",attrs:{type:"text",size:"mini"}},[e._v("复制")]):e._e(),e.showMoreBtn?t("div",{staticClass:"btn-wrapper-more"},[t("el-dropdown",{attrs:{placement:"top-start",size:"mini"},on:{command:e.command}},[t("el-button",{attrs:{type:"text",size:"mini"}},[e._v("更多"),t("i",{staticClass:"el-icon-more el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.operationDataList,(function(i,a){return[e.btnList.includes(i.eventType)?t("el-dropdown-item",{key:a,class:i.extraClassName,attrs:{command:i.eventType,icon:i.iconClass}},[e._v(e._s(i.title))]):e._e()]}))],2)],1)],1):e._e()],1):e._e()]):t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-thumbnail-panel-footer create"},[t("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.newPage}},[e._v("新建页面")])],1)])},l=[],s=i(8256),c=i(6996),r={props:{pageTye:{type:String,default:"H5"},pageData:{type:Object,default:()=>{}},showPublishState:{type:Boolean,default:!0},btnList:{type:Array,default:()=>[]},showMoreBtn:{type:Boolean,default:!0}},data(){return{loading:!1,defaultImageCover:i(5780),operationDataList:c.qi}},methods:{newPage(){const e=s.c.getProjectConfig();this.loading=!0,this.$api.createPage(e).then((e=>{this.loading=!1,e.body&&this.$router.push({name:"Edit",query:{id:e.body._id,page:"newPage"}})})).catch((()=>{this.loading=!1}))},preview(e){this.$emit("showPreview",e)},command(){},edit(){this.$router.push({name:"Edit",query:{id:this.pageData._id}})}}},u=r,p=i(2528),d=(0,p.c)(u,o,l,!1,null,"49e0986a",null),h=d.exports,m={components:{Thumbnail:h},data(){return{loading:!1,searchParams:{type:"my",pageMode:"H5"},pageModeList:[],myCount:0,shareCount:0,pageList:[],showPreview:!1,previewId:""}},created(){this.pageModeList=this.$config.pageModeList,this.getAllPageList()},methods:{handlePageModeClick(){},doSearch(){},getAllPageList(){this.$api.getAllPage(this.searchParams).then((e=>{this.pageList=e.body.pages||[],this.myCount=e.body.myPageCount,this.shareCount=e.body.myCooperationPageCount})).catch((()=>{}))},preview(e){this.previewId=e,this.showPreview=!0},operationBtnType(e){const t=["edit","copyTemplate","setTemplate"];return"my"===this.searchParams.type?t.push("cooperation","delete"):"cooperation"===this.searchParams.type&&t.push("unCooperation"),t.push(e?"copyUrl":"publish","viewPageData"),t}}},g=m,y=(0,p.c)(g,a,n,!1,null,"490d536c",null),v=y.exports},6996:function(e,t,i){i.d(t,{El:function(){return n},U$:function(){return s},mM:function(){return l},qC:function(){return c},qE:function(){return r},qi:function(){return o}});var a=i(2420);const n=[{label:"组件列表",value:"componentLibs",elementUiIcon:"el-icon-s-operation"},{label:"页面管理",value:"pageManage",elementUiIcon:"el-icon-document"},{label:"模板库",value:"templateLibs",elementUiIcon:"el-icon-s-promotion"}],o=[{title:"发布",eventType:"publish",extraClassName:"",iconClass:"el-icon-upload"},{title:"发布模板市场",eventType:"publishTemplate",extraClassName:"",iconClass:"el-icon-s-shop"},{title:"复制链接",eventType:"copyUrl",extraClassName:"",iconClass:"el-icon-connection"},{title:"设为我的模板",eventType:"setTemplate",extraClassName:"",iconClass:"el-icon-document-copy"},{title:"页面数据",eventType:"viewPageData",extraClassName:"",iconClass:"el-icon-document"},{title:"协作设置",eventType:"cooperation",extraClassName:"",iconClass:"el-icon-s-operation"},{title:"删除",eventType:"delete",extraClassName:"error",iconClass:"el-icon-delete"},{title:"退出协作",eventType:"unCooperation",extraClassName:"error",iconClass:"el-icon-right"}],l=[{title:"基础组件",components:[{elName:"ruyi-text",title:"文字",icon:"iconfont iconwenben",valueType:"",defaultStyle:{height:40,lineHeight:40}},{elName:"ruyi-image",title:"图片",icon:"iconfont icontupian",valueType:"",defaultStyle:{height:200}},{elName:"ruyi-button",title:"按钮",icon:"iconfont iconanniuzu",valueType:"",defaultStyle:{width:140,height:40,borderColor:"#1890FF",borderStyle:"solid",borderWidth:1,borderRadius:4,lineHeight:40}},{elName:"ruyi-rectangle",title:"矩形边框",icon:"iconfont iconjuxing",valueType:"",defaultStyle:{width:120,height:100,borderColor:"#1890FF",borderStyle:"solid",borderWidth:1}},{elName:"ruyi-divider",title:"分割线",icon:"iconfont iconfengexian",valueType:"",defaultStyle:{color:"#fafafa"}},{elName:"ruyi-image-carousel",title:"图片轮播",icon:"iconfont iconshouyelunbotu",valueType:"",defaultStyle:{height:210}},{elName:"ruyi-iframe",title:"内嵌iframe",icon:"iconfont iconiframetianjia",valueType:"",defaultStyle:{width:a.c.canvasH5Width,height:300,paddingTop:10,paddingBottom:10}},{elName:"map",title:"地图",icon:"iconfont iconditu",valueType:"",defaultStyle:{width:300,height:200,paddingTop:10,paddingBottom:10}},{elName:"video",title:"视频",icon:"iconfont iconshipin",valueType:"",defaultStyle:{width:a.c.canvasH5Width,height:300,paddingTop:10,paddingBottom:10}}]},{title:"表单组件",components:[{elName:"input",title:"单行文本",icon:"iconfont iconwenbenkuang",defaultStyle:{border:"1px solid #ccc"},valueType:""},{elName:"ruyi-date-picker",title:"日期选择器",icon:"iconfont iconriqi",defaultStyle:{height:60}},{elName:"ruyi-time-select",title:"时间选择器",icon:"iconfont iconshijian",defaultStyle:{height:60}},{elName:"ruyi-date-time-select",title:"日期时间选择器",icon:"iconfont iconriqishijian",defaultStyle:{height:60}},{elName:"ruyi-number-input",title:"数字输入框",icon:"iconfont iconfuhao-shuzishurukuang",defaultStyle:{height:60}},{elName:"ruyi-textarea",title:"文本域",icon:"iconfont iconwenben",defaultStyle:{height:120}}]},{title:"功能组件",components:[{elName:"ruyi-bg-music",title:"音乐",icon:"iconfont iconyinlemusic217",valueType:"",defaultStyle:{height:52,width:52}}]},{title:"业务组件",components:[]}],s=[{title:"复制",icon:"iconfont iconfuzhi",value:"copy"},{title:"删除",icon:"iconfont iconshanchu",value:"delete"},{title:"字体放大",icon:"iconfont iconzitifangda",value:"fontA+"},{title:"字体缩小",icon:"iconfont iconzitisuoxiao",value:"fontA-"},{title:"字体加粗",icon:"iconfont iconzitijiacu",value:"fontB"},{title:"图层上移",icon:"iconfont iconziyuan1",value:"layerUp"},{title:"图层下移",icon:"iconfont iconxiayiyiceng",value:"layerDown"},{title:"图层置顶",icon:"iconfont iconcontrol-top",value:"layerTop"},{title:"图层置底",icon:"iconfont iconcontrol-bottom",value:"layerBottom"}],c=[{title:"左对齐",icon:"iconfont iconzuoduiqi",type:"l"},{title:"上对齐",icon:"iconfont iconshangduiqi",type:"t"},{title:"右对齐",icon:"iconfont iconyouduiqi",type:"r"},{title:"下对齐",icon:"iconfont iconxiaduiqi",type:"b"},{title:"垂直居中对齐",icon:"iconfont iconchuizhijuzhongduiqi",type:"tb"},{title:"水平居中对齐",icon:"iconfont iconshuipingjuzhongduiqi",type:"lr"}],r=[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"},{label:"点状",value:"dotted"},{label:"双实线",value:"double"}]},5780:function(e,t,i){e.exports=i.p+"static/img/sign_bg.47eec442.5ac2df16.png"}}]);
//# sourceMappingURL=856.61dd6eee.js.map